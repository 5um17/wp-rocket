(function(f,g){var d,M=g.documentElement,k=f.addEventListener,r=f.setTimeout,R=f.requestAnimationFrame||r,V=/^picture$/i,N=["load","error","lazyincluded","_lazyloaded"],F=function(a,c){var e=new RegExp("(\\s|^)"+c+"(\\s|$)");return a.className.match(e)&&e},G=function(a,c){F(a,c)||(a.className+=" "+c)},O=function(a,c){var e;if(e=F(a,c))a.className=a.className.replace(e," ")},C=function(a,c,e){var d=e?"addEventListener":"removeEventListener";e&&C(a,c);N.forEach(function(e){a[d](e,c)})},S=function(a,
d,e,f,m){var l=g.createEvent("CustomEvent");l.initCustomEvent(d,!f,!m,e);l.details=l.detail;a.dispatchEvent(l);return l},T=function(a,c){var e;f.HTMLPictureElement||((e=f.picturefill||f.respimage||d.pf)?e({reevaluate:!0,reparse:!0,elements:[a]}):c&&c.src&&(a.src=c.src))},W=function(a){var c,e=0,q=f.Date,m=function(){c=!1;e=q.now();a()},l=function(){r(m)},g=function(){R(l)};return function(a){if(!c){var f=d.throttle-(q.now()-e);c=!0;4>f&&(f=4);!0===a?g():r(g,f)}}},L=function(){var a,c,e,q,m,l,x,y,
z,A,B,H,P,L=/^img$/i,N=/^iframe$/i,X="onscroll"in f&&!/glebot/.test(navigator.userAgent),D=0,u=0,t=0,I=function(b){t--;b&&b.target&&C(b.target,I);if(!b||0>t||!b.target)t=0},h=W(function(){var b,p,f,J,h,v,g,q,r;if((m=d.loadMode)&&8>t&&(b=a.length)){p=0;u++;D<P&&1>t&&4<u&&2<m?(D=P,u=0):D=D!=H&&1<m&&3<u?H:0;for(;p<b;p++)if(a[p]&&!a[p]._lazyRace)if(X){(q=a[p].getAttribute("data-expand"))&&(v=1*q)||(v=D);r!==v&&(l=innerWidth+v,x=innerHeight+v,g=-1*v,r=v);f=a[p].getBoundingClientRect();var n;if((n=(B=f.bottom)>=
g&&(y=f.top)<=x&&(A=f.right)>=g&&(z=f.left)<=l&&(B||A||z||y))&&!(n=e&&3>t&&4>u&&!q&&2<m)){var w=a[p];n=v;var E=void 0,k=w,w="hidden"!=getComputedStyle(w,null).visibility;y-=n;B+=n;z-=n;for(A+=n;w&&(k=k.offsetParent);)(w=0<(getComputedStyle(k,null).opacity||1))&&"visible"!=getComputedStyle(k,null).overflow&&(E=k.getBoundingClientRect(),w=A>E.left&&z<E.right&&B>E.top-1&&y<E.bottom+1);n=w}n?(K(a[p],!1,f.width),h=!0):!h&&e&&!J&&3>t&&4>u&&2<m&&(c[0]||d.preloadAfterLoad)&&(c[0]||!q&&(B||A||z||y))&&(J=c[0]||
a[p])}else K(a[p]);J&&!h&&K(J)}}),Q=function(b){G(b.target,d.loadedClass);O(b.target,d.loadingClass);C(b.target,Q)},Y=function(){var b,a=[],d=function(){for(;a.length;)a.shift()();b=!1};return function(e){a.push(e);b||(b=!0,R(d))}}(),K=function(b,a,f){var c,h,g,k,l,m=b.currentSrc||b.src,n=L.test(b.nodeName);if(e||!n||!m||b.complete||F(b,d.errorClass))b._lazyRace=!0,t++,Y(function(){b._lazyRace&&delete b._lazyRace;O(b,d.lazyClass);if(!(k=S(b,"lazybeforeunveil",{force:!!a})).defaultPrevented){G(b,d.autosizesClass);
c=b.getAttribute("data-lazy-src")||b.getAttribute("data-lazy-original");n&&(g=(h=b.parentNode)&&V.test(h.nodeName||""));l=k.detail.firesLoad||"src"in b&&(c||g);k={target:b};l&&(C(b,I,!0),clearTimeout(q),q=r(I,2500),G(b,d.loadingClass),C(b,Q,!0));if(c)if(N.test(b.nodeName)){var e=c;try{b.contentWindow.location.replace(e)}catch(f){b.setAttribute("src",e)}}else b.setAttribute("src",c);g&&T(b,{src:c})}if(!l||b.complete&&m==(b.currentSrc||b.src))l?I(k):t--,Q(k)})},U=function(){var b,a=function(){d.loadMode=
3;h()};e=!0;u+=8;d.loadMode=3;k("scroll",function(){3==d.loadMode&&(d.loadMode=2);clearTimeout(b);b=r(a,99)},!0)};return{_:function(){a=g.getElementsByClassName(d.lazyClass);c=g.getElementsByClassName(d.lazyClass+" "+d.preloadClass);H=d.expand;P=Math.round(H*d.expFactor);k("scroll",h,!0);k("resize",h,!0);f.MutationObserver?(new MutationObserver(h)).observe(M,{childList:!0,subtree:!0,attributes:!0}):(M.addEventListener("DOMNodeInserted",h,!0),M.addEventListener("DOMAttrModified",h,!0),setInterval(h,
999));k("hashchange",h,!0);"focus mouseover click load transitionend animationend webkitAnimationEnd".split(" ").forEach(function(b){g.addEventListener(b,h,!0)});(e=/d$|^c/.test(g.readyState))?U():(k("load",U),g.addEventListener("DOMContentLoaded",h));h(0<a.length)},checkElems:h,unveil:K}}(),x=function(){x.i||(x.i=!0,L._())};(function(){var a,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",
minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2,throttle:99};d=f.lazyRocketsConfig||f.lazyRocketsConfig||{};for(a in c)a in d||(d[a]=c[a]);f.lazyRocketsConfig=d;r(function(){if(d.init){for(var a=g.querySelectorAll("[data-lazy-src],[data-lazy-original]"),c=0;c<a.length;c++)a[c].className+=" lazyload";x()}})})();return{cfg:d,loader:L,init:x,uP:T,aC:G,rC:O,hC:F,fire:S}})(window,document);